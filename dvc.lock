schema: '2.0'
stages:
  get_data:
    cmd: python src/01-get_data.py
    deps:
    - path: src/01-get_data.py
      md5: ab13360011897f26abb6a05b16ded12f
      size: 640
    params:
      params.yaml:
        base:
          random_seed: 123
        data:
          file_name: nba_stats.csv
    outs:
    - path: assets/data
      md5: b704d2062d174a9cdc662cadb9716121.dir
      size: 105222
      nfiles: 2
  featurize:
    cmd: python src/02-create_features.py
    deps:
    - path: assets/data
      md5: b704d2062d174a9cdc662cadb9716121.dir
      size: 105222
      nfiles: 2
    - path: src/02-create_features.py
      md5: 3d24f99dd9cb73c03d1cd5b45e9c0489
      size: 824
    params:
      params.yaml:
        features:
          remove:
          - Rk
          - Player
          - Tm
          - Pos
    outs:
    - path: assets/features
      md5: 3c4f12909ef04b071a0f8110d65ad470.dir
      size: 77946
      nfiles: 4
  train:
    cmd: python src/03-train_model.py
    deps:
    - path: assets/features
      md5: 3c4f12909ef04b071a0f8110d65ad470.dir
      size: 77946
      nfiles: 4
    - path: src/03-train_model.py
      md5: 20a0a929d89265f1601c61d33ca77635
      size: 609
    params:
      params.yaml:
        base:
          random_seed: 123
        train:
          C: 10
          max_iter: 10000
          model_name: model.joblib
    outs:
    - path: assets/models
      md5: 4f932dfee2706e831f36f1b9c7ad741e.dir
      size: 2694
      nfiles: 1
  evaluate:
    cmd: python src/04-evaluate_model.py
    deps:
    - path: assets/features
      md5: 3c4f12909ef04b071a0f8110d65ad470.dir
      size: 77946
      nfiles: 4
    - path: assets/models
      md5: 4f932dfee2706e831f36f1b9c7ad741e.dir
      size: 2694
      nfiles: 1
    - path: src/04-evaluate_model.py
      md5: 401e8c625699253d928dd312de132018
      size: 558
    outs:
    - path: assets/metrics.json
      md5: 0cceff252046b7ee3431eeeb1e7cf7b3
      size: 72
